<head>
    <link rel="stylesheet" href="/css/create-post.css">
</head>
<body>
    <div id="create-post" class="d-flex justify-content-center align-items-center">
    <div class="form-container">
        <h1 class="text-light text-center create-title"><u>Create Post</u></h1>
        <form id="create-post-form">
            <div class="form-group">
                <label for="title" class="text-light d-block text-center create-sml-title">Title</label>
                <input type="text" class="form-control" id="title" name="title">
            </div>
            <br>
            <div class="form-group">
                <label for="content" class="text-light text-center d-block create-sml-title">Content</label>
                <textarea class="form-control" id="content" name="content"></textarea>
            </div>
            <br>
            <div class="text-center">
                <button type="submit" class="btn btn-outline-light">Create</button>
            </div>
        </form>
    </div>
</div>
<script>
    document.getElementById('create-post-form').addEventListener('submit', async (event) => {
        event.preventDefault();
        const title = document.getElementById('title').value;
        const content = document.getElementById('content').value;

        const response = await fetch('/api/posts', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ title, content }),
        });

        if (response.ok) {
            window.location.href = '/dashboard';
        } else {
            alert('Failed to create post');
        }
    });
</script>
</body>